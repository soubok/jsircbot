(function testModule() {
	
	var _mod = this;
	
	var _botCmd = {

		raw:function( cmdName, cmdData, command, from, to, msg ) {
		
			_mod.Send( cmdData );
		},
		dump:function( cmdName, cmdData, command, from, to, msg ) {
			
			Print(dumpData(_mod.data), '\n');
			
		},
		quit:function() {
			
			_mod.api.Quit('bye...');
		},
		reload:function( cmdName, cmdData, command, from, to, msg ) {
			
			_mod.api.privmsg( to, 'Reloading ' + (cmdData||'') );
			if ( cmdData == undefined )
				core.ReloadModule(_mod); // after this, the current code will die
			else
				core.ReloadModuleByName(cmdData);

		},
		test:function( cmdName, cmdData, command, from, to, msg ) {
		
			DPrint( Array.slice(arguments).toSource() )
			
			var nick = from.split('!',1);
			var replyTo = to[0] == '#' ? to : nick;
			
			

//			for ( var i = 0; i<100; i++ ) _mod.api.privmsg( nick, 'XxxxxxxxXxxxxxxxXxxxxxxxXxxxx '+i );
			_mod.api.privmsg( to, core.ModuleList() );
//			_mod.api.privmsg( replyTo, new Date() );
//			_mod.api.privmsg( to, Array.slice(arguments).toSource() );
		}

	}

	this.AddModuleListeners = function() _mod.api.botCmd.AddSet( _botCmd );
	this.RemoveModuleListeners = function() _mod.api.botCmd.RemoveSet( _botCmd );

/*
		addDataListener( _module.data.channel['#jslibs'].names['soubok'], function(info) {
			_module.Send( 'PRIVMSG soubok :hi! ('+info+')' );
//			_module.Send( 'PRIVMSG soubok :'+_module.api.Ctcp('VERSION') );
		});
*/

})
